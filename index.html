<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What type of training suits me?</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <style>
        body { font-family: 'Arial', sans-serif; background: #f8f9fa; margin: 0; color: #333; padding-bottom: 150px; }
        .container { max-width: 800px; margin: 40px auto; background: white; padding: 40px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); }
        .logo { max-width: 280px; display: block; margin: 0 auto 20px; }
        .section { display: none; }
        .active { display: block; }
        .btn { padding: 15px 30px; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; }
        .btn-start { background: #000; color: white; width: 100%; margin-top: 20px; }
        .btn-opt { background: #f1f3f5; width: 100%; text-align: left; margin: 8px 0; border: 1px solid #ddd; padding: 15px; }
        .btn-opt:hover { background: #e2e6ea; }

        .manifesto-text { text-align: justify; line-height: 1.8; font-size: 16px; white-space: pre-line; }
        .roadmap-highlight { background: #fff9db; padding: 20px; border-left: 5px solid #fcc419; margin: 25px 0; font-style: italic; }

        .float-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; 
            background: white; box-shadow: 0 -5px 25px rgba(0,0,0,0.15);
            padding: 20px 0; z-index: 9999; text-align: center;
            display: none; 
        }
        .btn-wish { background: #28a745; color: white; margin: 0 10px; min-width: 150px; }
        .btn-no { background: #dc3545; color: white; margin: 0 10px; min-width: 150px; }
        .float-title { display: block; margin-bottom: 10px; font-weight: bold; font-size: 18px; color: #000; }
        
        .result-display-box { background: #e7f5ff; border: 2px solid #228be6; padding: 30px; border-radius: 10px; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <div id="intro" class="section active">
        <img src="logo.png" alt="Logo" class="logo">
        <p>This test is designed by professionals in the field of sports and will guide you toward a type of sport that suits you, based on the answers you provide. Take your time and answer honestly.</p>
        <button class="btn btn-start" onclick="navigate('quiz')">Continue</button>
    </div>

    <div id="quiz" class="section">
        <h2 id="q-title" style="text-align:center;"></h2>
        <div id="q-options"></div>
    </div>

    <div id="manifesto" class="section">
        <div class="manifesto-text">
  To discover the fighting style that truly fits you, you must first understand your mindset, body type, and instinctive reactions under pressure.
Some fighters thrive on explosive power and direct impact, while others dominate through patience, timing, and precision.
Your ideal combat style reflects how you move, think, and adapt when challenged.

Striking styles like boxing, kickboxing, or Muay Thai favor those with sharp reflexes, aggression, and a taste for controlled chaos.
If you prefer strategy, leverage, and mental warfare, grappling arts such as Brazilian Jiu-Jitsu or wrestling may suit you perfectly.
Speed, endurance, and discipline often lead fighters toward styles like taekwondo or karate, where technique is king.

Hybrid fighters who hate limits usually gravitate toward MMA, blending multiple disciplines into a complete fighting system.
Traditional martial arts appeal to those seeking balance, respect, and inner strength alongside physical skill.
No style is superior—only the one that matches your natural instincts and long-term goals.

A true fighter listens to their body, learns from defeat, and evolves constantly.
Training the right style builds confidence, mental toughness, and unshakable self-control.


Do you wish?

Why you should continue with us: Most people never reach their potential because they train without direction or identity.
By following our guidance, you’ll discover the fighting style that amplifies your strengths and hides your weaknesses.
This isn’t just about learning how to fight—it’s about becoming dangerous in a controlled, intelligent way.
Our experts break down combat psychology and martial arts science to guide you step by step.
Your fighting style is your signature—define it, sharpen it, and own it.
Do you wish to see your professional result?
        </div>
    </div>

    <div id="success-view" class="section">
        <h1 style="color: #28a745;">Payment Successful! ✔️</h1>
        <div class="result-display-box">
            <h2 id="final-type" style="margin-top:0;"></h2>
            <p id="final-desc" style="font-size: 18px;"></p>
            <hr>
            <p id="email-notif" style="font-weight: bold; color: #28a745;"></p>
            <p>Your Congrats!</p>
            <p style="color: #d9480f;"><strong>good luck with training!</strong></p>
        </div>
        <button class="btn btn-start" onclick="window.location.href='/'">Take the test again</button>
    </div>
</div>

<div id="footerBar" class="float-bar">
    <span class="float-title">Do you wish to see your professional roadmap?</span>
    <button class="btn btn-wish" onclick="pay(true)">I Wish</button>
    <button class="btn btn-no" onclick="pay(false)">I Don't Wish</button>
</div>

<script>
    const questions = [
     {
  q: "How do you prefer to win a fight?",
  a: [
    { t: "By knocking the opponent out", c: "striker" },
    { t: "By wearing them down and controlling them", c: "grappler" },
    { t: "By adapting and using every option", c: "hybrid" }
  ]
},
{
  q: "What is your biggest strength in combat?",
  a: [
    { t: "Speed and striking power", c: "striker" },
    { t: "Balance, pressure, and control", c: "grappler" },
    { t: "Versatility and fight IQ", c: "hybrid" }
  ]
},
{
  q: "When the fight starts, you usually:",
  a: [
    { t: "Take the center and pressure immediately", c: "striker" },
    { t: "Close distance and look for control", c: "grappler" },
    { t: "Read the opponent first", c: "hybrid" }
  ]
},
{
  q: "What range do you feel most comfortable in?",
  a: [
    { t: "Long to mid-range (punching)", c: "striker" },
    { t: "Clinch or close contact", c: "grappler" },
    { t: "All ranges", c: "hybrid" }
  ]
},
{
  q: "Your ideal training session focuses on:",
  a: [
    { t: "Pad work, bags, and combinations", c: "striker" },
    { t: "Drills, control, and endurance", c: "grappler" },
    { t: "Transitions and mixed training", c: "hybrid" }
  ]
},
{
  q: "How do you react under pressure?",
  a: [
    { t: "I become more aggressive", c: "striker" },
    { t: "I stay calm and slow the fight down", c: "grappler" },
    { t: "I adjust and change strategy", c: "hybrid" }
  ]
},
{
  q: "What frustrates you most in a fight?",
  a: [
    { t: "Missing clean shots", c: "striker" },
    { t: "Losing control or position", c: "grappler" },
    { t: "Being predictable", c: "hybrid" }
  ]
},
{
  q: "How would your coach describe you?",
  a: [
    { t: "Explosive and dangerous", c: "striker" },
    { t: "Patient and controlling", c: "grappler" },
    { t: "Smart and adaptable", c: "hybrid" }
  ]
},
{
  q: "What is your main goal in training?",
  a: [
    { t: "Finish fights decisively", c: "striker" },
    { t: "Dominate and exhaust opponents", c: "grappler" },
    { t: "Be ready for any situation", c: "hybrid" }
  ]
},
{
  q: "Which mindset fits you best?",
  a: [
    { t: "Attack is the best defense", c: "striker" },
    { t: "Control the fight, control the outcome", c: "grappler" },
    { t: "Adapt, survive, and win", c: "hybrid" }
  ]
},
{
  q: "How do you pace a fight?",
  a: [
    { t: "Fast and aggressive", c: "striker" },
    { t: "Slow, heavy pressure", c: "grappler" },
    { t: "Variable depending on opponent", c: "hybrid" }
  ]
},
{
  q: "What matters more to you?",
  a: [
    { t: "Power and precision", c: "striker" },
    { t: "Position and dominance", c: "grappler" },
    { t: "Timing and decision-making", c: "hybrid" }
  ]
},
{
  q: "If the fight goes wrong, you:",
  a: [
    { t: "Push harder to finish it", c: "striker" },
    { t: "Slow it down and regain control", c: "grappler" },
    { t: "Change tactics completely", c: "hybrid" }
  ]
}
];

    const resultsData = {
        striker: {
            name: "STRIKER – POWER & PRECISION",
            desc: "You thrive in stand-up combat. Focus on sharp technique, timing, and explosive power. Keep your guard tight, manage distance, and strike with intent. Pad work, bag drills, and sparring will sharpen your killer instinct. Precision beats wild aggression."
        },
        grappler: {
            name: "GRAPPLER – CONTROL & DOMINANCE",
            desc: "You win fights through leverage, patience, and control. Position over power is your rule. Master transitions, balance, and pressure. Drilling submissions and escapes builds confidence. A calm mind turns chaos into opportunity."
        },
        hybrid: {
            name: "HYBRID – COMPLETE FIGHTER",
            desc: "You adapt to any situation. Mixing striking and grappling makes you unpredictable and dangerous. Train transitions relentlessly and manage energy wisely. Fight IQ is your weapon—knowing when to strike, clinch, or finish defines your dominance."
        },
        traditional: {
            name: "TRADITIONAL – DISCIPLINE & TECHNIQUE",
            desc: "You value structure, respect, and mastery. Technique, balance, and mental focus are your foundation. Repetition refines you. Through discipline and control, you build not just fighting skill, but inner strength and long-term resilience."
        }
    };

    const scoreKeys = ["striker", "grappler", "hybrid", "traditional"];

    const buildScores = () => scoreKeys.reduce((acc, key) => {
        acc[key] = 0;
        return acc;
    }, {});

    let current = 0;
    let scores = buildScores();

    function navigate(id) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(id === 'quiz') {
            current = 0;
            scores = buildScores();
            loadQ();
        }
        if(id === 'manifesto') {
            document.getElementById('footerBar').style.display = 'block';
            window.scrollTo(0,0);
        }
    }

    function loadQ() {
        if (current >= questions.length) { 
            navigate('manifesto'); 
            return; 
        }
        document.getElementById('q-title').innerText = questions[current].q;
        const container = document.getElementById('q-options');
        container.innerHTML = '';
        questions[current].a.forEach(opt => {
            const b = document.createElement('button');
            b.className = 'btn btn-opt';
            b.innerText = opt.t;
            b.onclick = () => { 
                if (Object.prototype.hasOwnProperty.call(scores, opt.c)) {
                    scores[opt.c]++; 
                }
                current++; 
                loadQ(); 
            };
            container.appendChild(b);
        });
    }

    function pay(sub) {
        const choice = scoreKeys.reduce((best, key) => scores[key] > scores[best] ? key : best, scoreKeys[0]);
        localStorage.setItem("lastPlanChoice", choice);
        const checkoutUrl = `https://backend-ul-tau.onrender.com/pay-session?subscribe=${sub}&choice=${encodeURIComponent(choice)}`;
        window.location.href = checkoutUrl;
    }

    window.onload = () => {
        const params = new URLSearchParams(window.location.search);
        if (params.has('session_id')) {
            const plan = params.get('plan');
            const isSub = params.get('isSub');
            const savedPlan = localStorage.getItem("lastPlanChoice");
            const resolvedPlan = resultsData[plan]
                ? plan
                : (resultsData[savedPlan] ? savedPlan : null);

            navigate('success-view');
            document.getElementById('footerBar').style.display = 'none';

            if (resolvedPlan) {
                document.getElementById('final-type').innerText = resultsData[resolvedPlan].name;
                document.getElementById('final-desc').innerText = resultsData[resolvedPlan].desc;
            }

            if (isSub === 'true') {
                const notif = document.getElementById('email-notif');
                if (notif) notif.innerHTML = "ROADMAP SENT VIA EMAIL! CHECK YOUR INBOX.";
            }
        }
    }
</script>
</body>
</html>
